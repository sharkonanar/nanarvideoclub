<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Mon Vidéo Club</title>
    <link rel="stylesheet" href="style.css"> </head>
<body>

    <div style="text-align: center; padding: 20px;">
        <a href="index.html" style="color: white; text-decoration: none;">← RETOUR AU RAYONNAGE</a>
        
        <h1 id="movie-title" style="color: white; font-family: 'Arial Black'; margin-top: 30px;">CHARGEMENT...</h1>

        <div id="player" style="width: 80%; max-width: 800px; margin: 20px auto; aspect-ratio: 16/9; border: 5px solid #333;">
            </div>
    </div>

    <script src="videos.js"></script>

    <script>
        // On récupère l'ID dans l'URL
        const params = new URLSearchParams(window.location.search);
        const filmId = params.get('id');

        // On cherche le film
        const film = videos.find(v => v.id === filmId);

        if (film) {
            document.getElementById('movie-title').textContent = film.titre;
            // On s'assure que l'URL est bien au format embed
            let videoUrl = film.url;
            if (videoUrl.includes("watch?v=")) {
                videoUrl = videoUrl.replace("watch?v=", "embed/");
            }
            document.getElementById('player').innerHTML = `
                <iframe src="${videoUrl}?autoplay=1" width="100%" height="100%" frameborder="0" allow="autoplay; fullscreen"></iframe>
            `;
        } else {
            document.getElementById('movie-title').textContent = "Film non trouvé";
        }
    </script>
</body>
</html>
